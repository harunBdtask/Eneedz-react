(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8240],{45973:function(e,n,t){"use strict";var a=t(85893),r=t(9008),s=(t(67294),t(53010)),c=t(33875),o=t(84654),i=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)(c.Z,{})]}),l=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{})});n.Z=function(e){var n,t=e.header,s=void 0===t?i:t,c=e.footer,o=void 0===c?l:c,u=e.children,d=e.title,p=void 0===d?"Page":d;return n=""!==p?"E-needz | "+p:"E-needz | Multipurpose Marketplace React Ecommerce Template",(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{children:(0,a.jsx)("title",{children:n})}),s,u,o]})}},76440:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return N},default:function(){return _}});var a=t(85893),r=t(41664),s=t(11163),c=t(67294),o=t(14494),i=t(809),l=t.n(i),u=t(92447),d=t(26265),p=t(64121),m=t(6645),h=t(39249);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){var n=e.paymentInfo,t=(0,s.useRouter)(),r=(0,m.Z)(["auth"]),o=(0,p.Z)(r,1)[0],i=(0,c.useRef)(null),f=(0,c.useState)(!1),j=f[0],v=f[1],x=(0,c.useState)(1),N=(x[0],x[1],(0,c.useState)(null)),_=N[0],k=N[1],y=(0,c.useState)({bankName:"",bankAccountNo:""}),g=y[0],O=y[1];var w=function(e){var n=e.target,t=n.name,a=n.value;O(b(b({},g),{},(0,d.Z)({},t,a)))},P=function(){var e=(0,u.Z)(l().mark((function e(a){var r,s,c,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),v(!0),(s=new FormData).append("payment_amount",n.amount),s.append("payment_method","bank"),s.append("customer_id",null===(r=o.auth)||void 0===r?void 0:r.id),s.append("order_id",n.order_id),s.append("bank_name",g.bankName),s.append("bank_ac_no",g.bankAccountNo),s.append("payment_slip",_),e.next=12,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/make_payment_submit"),{method:"POST",body:s});case 12:return c=e.sent,e.next=15,c.json();case 15:200===(null===(u=e.sent)||void 0===u?void 0:u.response_status)?(h.Am.success("Your payment has been submitted successfully."),O({bankName:"",bankAccountNo:""}),k(null),i.current.value="",v(!1),t.push("/account/invoice-details/".concat(n.order_id))):h.Am.error(u.message);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:"mb-4",children:"Pay with Bank"}),(0,a.jsx)("div",{className:"ps-block__content",children:(0,a.jsx)("div",{className:"ps-block__tab",children:(0,a.jsxs)("form",{onSubmit:P,children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"bankName",children:"Bank Name"}),(0,a.jsx)("input",{id:"bankName",name:"bankName",type:"text",className:"form-control",placeholder:"Enter your bank name",value:g.bankName,onChange:w})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"bankAccountNo",children:"Account No"}),(0,a.jsx)("input",{id:"bankAccountNo",name:"bankAccountNo",type:"text",className:"form-control",placeholder:"Bank Account No",value:g.bankAccountNo,onChange:w})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"paySlip",children:"Pay slip"}),(0,a.jsx)("input",{id:"paySlip",name:"paySlip",type:"file",ref:i,className:"form-control",onChange:function(e){return k(e.target.files[0])}})]}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("button",{type:"submit",className:"ps-btn ps-btn--fullwidth",disabled:j,children:"Submit"})})]})})})]})},v=t(45973),x=t(53010),N=!0,_=(0,o.$j)()((function(e){var n=e.auth,t=(0,s.useRouter)(),o=t.query.bankid,i=(0,c.useState)({}),l=i[0],u=i[1];(0,c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("_p_a_"));null!==e&&void 0!==e||t.push("/account/invoices"),u(e)}),[o]);return(0,a.jsx)(a.Fragment,{children:n?(0,a.jsx)(v.Z,{footer:(0,a.jsx)(x.Z,{}),title:"Bank Payment",children:(0,a.jsx)("div",{className:"ps-page--my-account",children:(0,a.jsx)("div",{className:"ps-checkout ps-section--shopping",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"d-flex justify-content-center mb-4",children:(0,a.jsx)("h2",{children:"Payment"})}),(0,a.jsx)("div",{className:"ps-section__content",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-lg-8 col-sm-12",children:(0,a.jsx)("div",{className:"ps-block--shipping card",children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)(j,{paymentInfo:l}),(0,a.jsx)("div",{className:"ps-block__footer mt-5",children:(0,a.jsx)(r.default,{href:"/account/invoices",children:(0,a.jsxs)("a",{children:[(0,a.jsx)("i",{className:"icon-arrow-left mr-2"}),"Return to shipping"]})})})]})})})})})]})})})}):void t.push("/account/login")})}))},4934:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/payment/[bankid]",function(){return t(76440)}])}},function(e){e.O(0,[8116,4740,9774,2888,179],(function(){return n=4934,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
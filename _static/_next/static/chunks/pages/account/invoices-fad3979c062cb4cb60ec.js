(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2575],{5467:function(e,t,n){"use strict";function a(e){return Object.keys(e).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||"data-__"===n.substr(0,7)||(t[n]=e[n]),t}),{})}n.d(t,{Z:function(){return a}})},76772:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var a=n(22122),s=n(96156),r=n(28481),c=n(67294),o=n(54549),i=n(15873),l=n(57119),d=n(68628),u=n(73218),m=n(38819),h=n(68855),p=n(40847),f=n(43061),x=n(60444),v=n(94184),g=n.n(v),j=n(65632),b=n(5467),N=n(6610),_=n(5991),y=n(65255),w=n(81907),Z=function(e){(0,y.Z)(n,e);var t=(0,w.Z)(n);function n(){var e;return(0,N.Z)(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,_.Z)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,a=e.children,s=this.state,r=s.error,o=s.info,i=o&&o.componentStack?o.componentStack:null,l="undefined"===typeof t?(r||"").toString():t,d="undefined"===typeof n?i:n;return r?c.createElement(I,{type:"error",message:l,description:c.createElement("pre",null,d)}):a}}]),n}(c.Component),S=n(96159),E=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n},k={success:m.Z,info:p.Z,error:f.Z,warning:h.Z},C={success:i.Z,info:d.Z,error:u.Z,warning:l.Z},P=function(e){var t,n=e.description,i=e.prefixCls,l=e.message,d=e.banner,u=e.className,m=void 0===u?"":u,h=e.style,p=e.onMouseEnter,f=e.onMouseLeave,v=e.onClick,N=e.afterClose,_=e.showIcon,y=e.closable,w=e.closeText,Z=e.action,P=E(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),I=c.useState(!1),O=(0,r.Z)(I,2),M=O[0],T=O[1],D=c.useRef(),R=c.useContext(j.E_),A=R.getPrefixCls,F=R.direction,L=A("alert",i),H=function(e){var t;T(!0),null===(t=P.onClose)||void 0===t||t.call(P,e)},z=!!w||y,Y=function(){var e=P.type;return void 0!==e?e:d?"warning":"info"}(),G=!(!d||void 0!==_)||_,W=g()(L,"".concat(L,"-").concat(Y),(t={},(0,s.Z)(t,"".concat(L,"-with-description"),!!n),(0,s.Z)(t,"".concat(L,"-no-icon"),!G),(0,s.Z)(t,"".concat(L,"-banner"),!!d),(0,s.Z)(t,"".concat(L,"-rtl"),"rtl"===F),t),m),X=(0,b.Z)(P);return c.createElement(x.Z,{visible:!M,motionName:"".concat(L,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:N},(function(e){var t=e.className,r=e.style;return c.createElement("div",(0,a.Z)({ref:D,"data-show":!M,className:g()(W,t),style:(0,a.Z)((0,a.Z)({},h),r),onMouseEnter:p,onMouseLeave:f,onClick:v,role:"alert"},X),G?function(){var e=P.icon,t=(n?C:k)[Y]||null;return e?(0,S.wm)(e,c.createElement("span",{className:"".concat(L,"-icon")},e),(function(){return{className:g()("".concat(L,"-icon"),(0,s.Z)({},e.props.className,e.props.className))}})):c.createElement(t,{className:"".concat(L,"-icon")})}():null,c.createElement("div",{className:"".concat(L,"-content")},c.createElement("div",{className:"".concat(L,"-message")},l),c.createElement("div",{className:"".concat(L,"-description")},n)),Z?c.createElement("div",{className:"".concat(L,"-action")},Z):null,z?c.createElement("button",{type:"button",onClick:H,className:"".concat(L,"-close-icon"),tabIndex:0},w?c.createElement("span",{className:"".concat(L,"-close-text")},w):c.createElement(o.Z,null)):null)}))};P.ErrorBoundary=Z;var I=P},45973:function(e,t,n){"use strict";var a=n(85893),s=n(9008),r=(n(67294),n(53010)),c=n(33875),o=n(84654),i=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)(c.Z,{})]}),l=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{})});t.Z=function(e){var t,n=e.header,r=void 0===n?i:n,c=e.footer,o=void 0===c?l:c,d=e.children,u=e.title,m=void 0===u?"Page":u;return t=""!==m?"E-needz | "+m:"E-needz | Multipurpose Marketplace React Ecommerce Template",(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{children:(0,a.jsx)("title",{children:t})}),r,d,o]})}},9941:function(e,t,n){"use strict";var a=n(85893),s=n(64121),r=n(36808),c=n(41664),o=n(11163),i=(n(67294),n(6645)),l=n(14494),d=n(39249),u=n(20301);t.Z=function(e){var t,n,m,h,p,f=e.data,x=(0,l.I0)(),v=(0,i.Z)(["auth"]),g=(0,s.Z)(v,2),j=g[0],b=g[1],N=(0,o.useRouter)();return(0,a.jsxs)("aside",{className:"ps-widget--account-dashboard",children:[(0,a.jsxs)("div",{className:"ps-widget__header",children:[(0,a.jsx)("div",{className:"profile-image",children:null!==j&&void 0!==j&&j.auth?(0,a.jsx)("img",{src:null===(t=j.auth)||void 0===t?void 0:t.image,alt:null===(n=j.auth)||void 0===n?void 0:n.name}):(0,a.jsx)("img",{src:"/static/img/users/3.jpg",alt:null===(m=j.auth)||void 0===m?void 0:m.name})}),(0,a.jsxs)("figure",{children:[(0,a.jsx)("figcaption",{children:null===(h=j.auth)||void 0===h?void 0:h.name}),(0,a.jsx)("p",{children:null===(p=j.auth)||void 0===p?void 0:p.mobile})]})]}),(0,a.jsx)("div",{className:"ps-widget__content",children:(0,a.jsxs)("ul",{children:[f.map((function(e){return(0,a.jsx)("li",{className:e.active?"active":"",children:(0,a.jsx)(c.default,{href:e.url,children:(0,a.jsxs)("a",{children:[(0,a.jsx)("i",{className:e.icon}),e.text]})})},e.text)})),(0,a.jsx)("li",{className:"/account/review"==N.pathname?"active":"",children:(0,a.jsx)(c.default,{href:"review",children:(0,a.jsxs)("a",{children:[(0,a.jsx)("i",{className:"icon-book"}),"Review"]})})}),(0,a.jsx)("li",{children:(0,a.jsx)(c.default,{href:"#",children:(0,a.jsxs)("a",{onClick:function(e){e.preventDefault(),b("auth"),x((0,u.Gd)()),(0,r.remove)("auth"),d.Am.success("You successfully logged out!"),localStorage.removeItem("paymentInfo"),localStorage.removeItem("paymentGateway"),localStorage.removeItem("p_info"),N.push("/")},children:[(0,a.jsx)("i",{className:"icon-exit"}),"Logout"]})})})]})})]})}},72066:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return b},default:function(){return N}});var a=n(85893),s=n(11163),r=n(67294),c=n(45973),o=n(64121),i=n(6645),l=n(14494),d=n(39249),u=n(76772),m=n(10642),h=n(41664),p=function(e){var t=e.remainingTime,n=(0,r.useRef)(null);return(0,a.jsx)("span",{className:"remaining-time",style:{color:"orange"},ref:n,children:setInterval((function(){var e=new Date(t),a=new Date,s=Date.parse(e)-Date.parse(a),r=Math.floor(s/1e3%60),c=Math.floor(s/1e3/60%60),o=Math.floor(s/36e5%24),i=Math.floor(s/864e5);n&&n.current&&(n.current.textContent="".concat(i," D ").concat(o," H ").concat(c," M ").concat(r," S"))}),1e3)})},f=function(e){var t=e.usrOrderItems,n=e.err,c=(0,s.useRouter)(),o=(0,r.useState)(!1),i=o[0],l=o[1],f=(0,r.useState)(""),x=f[0],v=f[1],g=(0,r.useState)(""),j=g[0],b=g[1],N=(0,r.useState)(!1),_=N[0],y=N[1],w=t.map((function(e,t){var n;if(void 0!==e)return"1"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge black-badge",children:"Pending"}):"2"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge purple-badge",children:"Processing"}):"3"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge skyblue-badge",children:"Shipping"}):"4"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge green-badge",children:"Delivered"}):"5"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge yellow-badge",children:"Returned"}):"6"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge red-badge",children:"Cancelled"}):"7"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge orange-badge",children:"Partial Delivery"}):"18"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge indigo-badge",children:"Refunded"}):"19"===e.order_status?n=(0,a.jsx)("span",{className:"ps-badge greenyellow-badge",children:"Picked"}):"20"===e.order_status&&(n=(0,a.jsx)("span",{className:"ps-badge blueviolet-badge",children:"Confirmed"})),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsxs)("strong",{children:[" ",e.date]})}),(0,a.jsx)("td",{children:(0,a.jsx)(h.default,{href:"/account/invoice-details/".concat(e.order_id),children:(0,a.jsx)("a",{children:e.order_no})})}),(0,a.jsx)("td",{children:(0,a.jsx)("strong",{children:e.total_amount})}),(0,a.jsx)("td",{children:n}),(0,a.jsxs)("td",{className:"text-center",children:[e.remainingStatus&&(0,a.jsx)(p,{remainingTime:e.remainingTime}),"6"===e.order_status?"You canceled order":isNaN(e.remainingTime)&&e.remainingTime]}),(0,a.jsxs)("td",{className:"p-0 text-center",children:[e.remainingStatus&&(0,a.jsx)("button",{type:"button",className:"ps-btn ps-btn--sm",onClick:function(){return t=e,l(!0),v(t.due_amount),void b(t.order_id);var t},children:"Pay Now"}),"1"!==e.order_status&&"6"!==e.order_status&&"Paid"]}),(0,a.jsx)("td",{children:(0,a.jsx)(h.default,{href:"/account/invoice-details/".concat(e.order_id),children:(0,a.jsx)("a",{className:"ps-btn ps-btn--sm btn-black",children:"Details"})})})]},t)}));return(0,a.jsxs)(a.Fragment,{children:[n?(0,a.jsx)(u.Z,{message:"Failed to fetch data",type:"error"}):"",(0,a.jsx)("div",{className:"table-responsive",children:(0,a.jsxs)("table",{className:"table ps-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Date"}),(0,a.jsx)("th",{children:"Order No"}),(0,a.jsx)("th",{children:"Total"}),(0,a.jsx)("th",{children:"Status"}),(0,a.jsx)("th",{children:"Remaining Time"}),(0,a.jsx)("th",{children:"Make Payment"}),(0,a.jsx)("th",{children:"Action"})]})}),(0,a.jsx)("tbody",{children:w})]})}),(0,a.jsxs)(m.Z,{title:"Make Payment",centered:!0,visible:i,onOk:function(){return l(!1)},onCancel:function(){return l(!1)},footer:[(0,a.jsx)("button",{className:"ps-btn btn-small",type:"button",onClick:function(){if(y(!0),!x)return d.Am.error("Please add at least a minimum amount"),void y(!1);if("0"===x)return d.Am.error("The amount should not be 0"),void y(!1);var e={amount:x,order_id:j};localStorage.setItem("_p_a_",JSON.stringify(e)),c.push("/account/payment")},disabled:_,children:"Continue Payment"},"submit")],children:[(0,a.jsx)("h4",{style:{fontWeight:500},children:"How much do you want to Pay?"}),(0,a.jsx)("p",{children:"You can pay partially. We will start processing your order when payment is complete"}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"attachment",className:"sr-only",children:"How much do you want to Pay?"}),(0,a.jsx)("input",{type:"text",id:"payment_amount",className:"form-control",value:x,onChange:function(e){return v(e.target.value)}})]})]})]})},x=n(9941),v=n(98374),g=function(){var e=(0,l.I0)(),t=((0,s.useRouter)(),(0,l.v9)((function(e){return e})),(0,r.useState)([])),n=t[0],c=t[1],u=(0,r.useState)([]),m=(u[0],u[1]),h=(0,r.useState)(0),p=(h[0],h[1]),g=(0,r.useState)(0),j=g[0],b=(g[1],(0,r.useState)(10)),N=b[0],_=(b[1],(0,r.useState)(!1)),y=_[0],w=_[1],Z=(0,i.Z)(["auth"]),S=(0,o.Z)(Z,1)[0],E=new URLSearchParams(window.location.search);(0,r.useEffect)((function(){!function(){var e=E.get("status"),t=E.get("message");null!==e&&("success"===e?(d.Am.success(t),localStorage.removeItem("_p_a_")):"failed"===e&&(d.Am.error(t),localStorage.removeItem("_p_a_")))}()}),[]),(0,r.useEffect)((function(){e((0,v.$)(!1))}),[]),(0,r.useEffect)((function(){var e,t=new FormData;t.append("customer_id",null===(e=S.auth)||void 0===e?void 0:e.id);var n={method:"POST",body:t,redirect:"follow"};fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/manage_order"),n).then((function(e){return e.json()})).then((function(e){200===e.response_status?(c(e.data),m(e.data),p(e.data.length)):w(!0)})).catch((function(e){return console.log("error",e)}))}),[S.auth]),(0,r.useEffect)((function(){if(n.length>0){var e=n.map((function(e,t){if(t>=j&&t<N)return e}));m(e)}}),[n,N]);return(0,a.jsx)("section",{className:"ps-my-account ps-page--account",children:(0,a.jsx)("div",{className:"ps-container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-3",children:(0,a.jsx)("div",{className:"ps-page__left",children:(0,a.jsx)(x.Z,{data:[{text:"Account Information",url:"/account/user-information",icon:"icon-user"},{text:"Invoices",url:"/account/invoices",icon:"icon-papers",active:!0},{text:"Track Order",url:"/account/order-tracking",icon:"icon-papers"},{text:"Payment History",url:"/account/payment-history",icon:"icon-cog"},{text:"Address",url:"/account/address",icon:"icon-map-marker"},{text:"Change Password",url:"/account/change-password",icon:"icon-lock"}],active:!0})})}),(0,a.jsx)("div",{className:"col-lg-9",children:(0,a.jsx)("div",{className:"ps-page__content",children:(0,a.jsxs)("div",{className:"ps-section--account-setting",children:[(0,a.jsx)("div",{className:"ps-section__header",children:(0,a.jsx)("h3",{children:"Invoices"})}),(0,a.jsx)("div",{className:"ps-section__content",children:(0,a.jsx)(f,{usrOrderItems:n,err:y})})]})})})]})})})},j=n(53010),b=!0,N=function(e){var t=e.auth,n=(0,s.useRouter)();return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)(c.Z,{footer:(0,a.jsx)(j.Z,{}),title:"Invoices",children:(0,a.jsx)("div",{className:"ps-page--my-account",children:(0,a.jsx)(g,{})})}):void n.push("/account/login")})}},13:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/invoices",function(){return n(72066)}])}},function(e){e.O(0,[8116,642,4740,9774,2888,179],(function(){return t=13,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
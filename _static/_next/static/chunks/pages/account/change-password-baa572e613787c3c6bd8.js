(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1481],{45973:function(e,s,a){"use strict";var r=a(85893),n=a(9008),t=(a(67294),a(53010)),o=a(33875),c=a(84654),i=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)(o.Z,{})]}),l=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(t.Z,{})});s.Z=function(e){var s,a=e.header,t=void 0===a?i:a,o=e.footer,c=void 0===o?l:o,d=e.children,u=e.title,p=void 0===u?"Page":u;return s=""!==p?"E-needz | "+p:"E-needz | Multipurpose Marketplace React Ecommerce Template",(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.default,{children:(0,r.jsx)("title",{children:s})}),t,d,c]})}},9941:function(e,s,a){"use strict";var r=a(85893),n=a(64121),t=a(36808),o=a(41664),c=a(11163),i=(a(67294),a(6645)),l=a(14494),d=a(39249),u=a(20301);s.Z=function(e){var s,a,p,m,h,w=e.data,j=(0,l.I0)(),v=(0,i.Z)(["auth"]),x=(0,n.Z)(v,2),f=x[0],g=x[1],N=(0,c.useRouter)();return(0,r.jsxs)("aside",{className:"ps-widget--account-dashboard",children:[(0,r.jsxs)("div",{className:"ps-widget__header",children:[(0,r.jsx)("div",{className:"profile-image",children:null!==f&&void 0!==f&&f.auth?(0,r.jsx)("img",{src:null===(s=f.auth)||void 0===s?void 0:s.image,alt:null===(a=f.auth)||void 0===a?void 0:a.name}):(0,r.jsx)("img",{src:"/static/img/users/3.jpg",alt:null===(p=f.auth)||void 0===p?void 0:p.name})}),(0,r.jsxs)("figure",{children:[(0,r.jsx)("figcaption",{children:null===(m=f.auth)||void 0===m?void 0:m.name}),(0,r.jsx)("p",{children:null===(h=f.auth)||void 0===h?void 0:h.mobile})]})]}),(0,r.jsx)("div",{className:"ps-widget__content",children:(0,r.jsxs)("ul",{children:[w.map((function(e){return(0,r.jsx)("li",{className:e.active?"active":"",children:(0,r.jsx)(o.default,{href:e.url,children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{className:e.icon}),e.text]})})},e.text)})),(0,r.jsx)("li",{className:"/account/review"==N.pathname?"active":"",children:(0,r.jsx)(o.default,{href:"review",children:(0,r.jsxs)("a",{children:[(0,r.jsx)("i",{className:"icon-book"}),"Review"]})})}),(0,r.jsx)("li",{children:(0,r.jsx)(o.default,{href:"#",children:(0,r.jsxs)("a",{onClick:function(e){e.preventDefault(),g("auth"),j((0,u.Gd)()),(0,t.remove)("auth"),d.Am.success("You successfully logged out!"),localStorage.removeItem("paymentInfo"),localStorage.removeItem("paymentGateway"),localStorage.removeItem("p_info"),N.push("/")},children:[(0,r.jsx)("i",{className:"icon-exit"}),"Logout"]})})})]})})]})}},71250:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return x}});var r=a(85893),n=a(809),t=a.n(n),o=a(92447),c=a(26265),i=a(64121),l=a(11163),d=a(67294),u=a(6645),p=a(39249),m=a(45973),h=a(9941),w=a(53010);function j(e,s){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?j(Object(a),!0).forEach((function(s){(0,c.Z)(e,s,a[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))}))}return e}var x=!0;s.default=function(e){var s=e.auth,a=(0,l.useRouter)(),n=(0,u.Z)(["auth"]),j=(0,i.Z)(n,1)[0],x=(0,d.useState)(!1),f=x[0],g=x[1],N=(0,d.useState)({email:"",password:"",newPassword:"",retypePassword:""}),P=N[0],y=N[1],_=function(e){var s=e.target,a=s.name,r=s.value;y(v(v({},P),{},(0,c.Z)({},a,r)))},b=function(){var e=(0,o.Z)(t().mark((function e(s){var a,r,n,o,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),g(!0),(r=new FormData).append("customer_id",null===(a=j.auth)||void 0===a?void 0:a.id),r.append("email",P.email),r.append("password",P.password),r.append("newpassword",P.newPassword),r.append("retypepassword",P.retypePassword),n={method:"POST",body:r,redirect:"follow"},e.next=11,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/change_password"),n);case 11:return o=e.sent,e.next=14,o.json();case 14:200===(c=e.sent).response_status?(p.Am.success("Password has been updated successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),g(!1),y({email:"",password:"",newPassword:"",retypePassword:""})):(p.Am.error(c.message),g(!1),y({password:"",newPassword:"",retypePassword:""}));case 16:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,r.jsx)(r.Fragment,{children:s?(0,r.jsx)(m.Z,{footer:(0,r.jsx)(w.Z,{}),title:"Change Password",children:(0,r.jsx)("section",{className:"ps-my-account ps-page--account",children:(0,r.jsx)("div",{className:"ps-container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-3",children:(0,r.jsx)("div",{className:"ps-page__left",children:(0,r.jsx)(h.Z,{data:[{text:"Account Information",url:"/account/user-information",icon:"icon-user"},{text:"Invoices",url:"/account/invoices",icon:"icon-papers"},{text:"Track Order",url:"/account/order-tracking",icon:"icon-papers"},{text:"Payment History",url:"/account/payment-history",icon:"icon-cog"},{text:"Address",url:"/account/address",icon:"icon-map-marker"},{text:"Change Password",url:"/account/change-password",icon:"icon-lock",active:!0}]})})}),(0,r.jsx)("div",{className:"col-lg-9",children:(0,r.jsx)("div",{className:"ps-page__content",children:(0,r.jsxs)("form",{className:"ps-form--account-setting",onSubmit:b,autoComplete:"off",children:[(0,r.jsx)("div",{className:"ps-form__header",children:(0,r.jsx)("h3",{children:"Change Password"})}),(0,r.jsxs)("div",{className:"ps-form__content",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-sm-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email"}),(0,r.jsx)("input",{id:"email",name:"email",className:"form-control",type:"text",placeholder:"Email",value:P.email,onChange:_})]})}),(0,r.jsx)("div",{className:"col-sm-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Old Password"}),(0,r.jsx)("input",{id:"password",name:"password",className:"form-control",type:"password",placeholder:"Password",value:P.password,onChange:_})]})}),(0,r.jsx)("div",{className:"col-sm-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,r.jsx)("input",{id:"newPassword",name:"newPassword",className:"form-control",type:"password",placeholder:"New Password",value:P.newPassword,onChange:_})]})}),(0,r.jsx)("div",{className:"col-sm-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"retypePassword",children:"Confirm Password"}),(0,r.jsx)("input",{id:"retypePassword",name:"retypePassword",className:"form-control",type:"password",placeholder:"Confirm Password",value:P.retypePassword,onChange:_})]})})]}),(0,r.jsx)("div",{className:"ps-form__submit",children:(0,r.jsx)("button",{className:"ps-btn success",type:"submit",disabled:f,children:"Update Password"})})]})]})})})]})})})}):void a.push("/account/login")})}},51673:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/change-password",function(){return a(71250)}])}},function(e){e.O(0,[8116,4740,9774,2888,179],(function(){return s=51673,e(e.s=s);var s}));var s=e.O();_N_E=s}]);
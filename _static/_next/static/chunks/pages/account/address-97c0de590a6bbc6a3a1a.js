(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6014],{32230:function(e,t,n){"use strict";var a=n(85893),s=n(41664);n(67294);t.Z=function(e){var t=e.breacrumb,n=e.layout,r=e.campaign_name;return(0,a.jsx)("div",{className:"ps-breadcrumb",children:(0,a.jsx)("div",{className:"fullwidth"===n?"ps-container":"container",children:(0,a.jsxs)("ul",{className:"breadcrumb",children:[t.map((function(e,t){return e.url?(0,a.jsx)("li",{children:(0,a.jsx)(s.default,{href:e.url,children:(0,a.jsx)("a",{children:e.text})})},e.text):(0,a.jsx)("li",{children:e.text},t)})),r&&(0,a.jsx)("li",{children:(0,a.jsx)("strong",{children:r})})]})})})}},45973:function(e,t,n){"use strict";var a=n(85893),s=n(9008),r=(n(67294),n(53010)),o=n(33875),c=n(84654),i=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(o.Z,{})]}),d=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Z,{})});t.Z=function(e){var t,n=e.header,r=void 0===n?i:n,o=e.footer,c=void 0===o?d:o,l=e.children,u=e.title,p=void 0===u?"Page":u;return t=""!==p?"E-needz | "+p:"E-needz | Multipurpose Marketplace React Ecommerce Template",(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{children:(0,a.jsx)("title",{children:t})}),r,l,c]})}},9941:function(e,t,n){"use strict";var a=n(85893),s=n(64121),r=n(36808),o=n(41664),c=n(11163),i=(n(67294),n(6645)),d=n(14494),l=n(39249),u=n(20301);t.Z=function(e){var t,n,p,h,m,f=e.data,v=(0,d.I0)(),x=(0,i.Z)(["auth"]),j=(0,s.Z)(x,2),g=j[0],y=j[1],b=(0,c.useRouter)();return(0,a.jsxs)("aside",{className:"ps-widget--account-dashboard",children:[(0,a.jsxs)("div",{className:"ps-widget__header",children:[(0,a.jsx)("div",{className:"profile-image",children:null!==g&&void 0!==g&&g.auth?(0,a.jsx)("img",{src:null===(t=g.auth)||void 0===t?void 0:t.image,alt:null===(n=g.auth)||void 0===n?void 0:n.name}):(0,a.jsx)("img",{src:"/static/img/users/3.jpg",alt:null===(p=g.auth)||void 0===p?void 0:p.name})}),(0,a.jsxs)("figure",{children:[(0,a.jsx)("figcaption",{children:null===(h=g.auth)||void 0===h?void 0:h.name}),(0,a.jsx)("p",{children:null===(m=g.auth)||void 0===m?void 0:m.mobile})]})]}),(0,a.jsx)("div",{className:"ps-widget__content",children:(0,a.jsxs)("ul",{children:[f.map((function(e){return(0,a.jsx)("li",{className:e.active?"active":"",children:(0,a.jsx)(o.default,{href:e.url,children:(0,a.jsxs)("a",{children:[(0,a.jsx)("i",{className:e.icon}),e.text]})})},e.text)})),(0,a.jsx)("li",{className:"/account/review"==b.pathname?"active":"",children:(0,a.jsx)(o.default,{href:"review",children:(0,a.jsxs)("a",{children:[(0,a.jsx)("i",{className:"icon-book"}),"Review"]})})}),(0,a.jsx)("li",{children:(0,a.jsx)(o.default,{href:"#",children:(0,a.jsxs)("a",{onClick:function(e){e.preventDefault(),y("auth"),v((0,u.Gd)()),(0,r.remove)("auth"),l.Am.success("You successfully logged out!"),localStorage.removeItem("paymentInfo"),localStorage.removeItem("paymentGateway"),localStorage.removeItem("p_info"),b.push("/")},children:[(0,a.jsx)("i",{className:"icon-exit"}),"Logout"]})})})]})})]})}},68346:function(e,t,n){"use strict";var a=n(85893),s=(n(67294),n(61614));t.Z=function(){return(0,a.jsx)("footer",{className:"ps-footer",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)(s.Z,{})})})}},98754:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return H},default:function(){return G}});var a=n(85893),s=n(11163),r=n(67294),o=n(32230),c=n(45973),i=n(59999),d=n(26265),l=n(809),u=n.n(l),p=n(92447),h=n(64121),m=n(22122),f=n(96156),v=n(28481),x=n(81253),j=n(94184),g=n.n(j),y=n(21770),b=n(15105),_=r.forwardRef((function(e,t){var n,a=e.prefixCls,s=void 0===a?"rc-switch":a,o=e.className,c=e.checked,i=e.defaultChecked,d=e.disabled,l=e.loadingIcon,u=e.checkedChildren,p=e.unCheckedChildren,h=e.onClick,m=e.onChange,j=e.onKeyDown,_=(0,x.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),N=(0,y.Z)(!1,{value:c,defaultValue:i}),w=(0,v.Z)(N,2),k=w[0],C=w[1];function S(e,t){var n=k;return d||(C(n=e),null===m||void 0===m||m(n,t)),n}var Z=g()(s,o,(n={},(0,f.Z)(n,"".concat(s,"-checked"),k),(0,f.Z)(n,"".concat(s,"-disabled"),d),n));return r.createElement("button",Object.assign({},_,{type:"button",role:"switch","aria-checked":k,disabled:d,className:Z,ref:t,onKeyDown:function(e){e.which===b.Z.LEFT?S(!1,e):e.which===b.Z.RIGHT&&S(!0,e),null===j||void 0===j||j(e)},onClick:function(e){var t=S(!k,e);null===h||void 0===h||h(t,e)}}),l,r.createElement("span",{className:"".concat(s,"-inner")},k?u:p))}));_.displayName="Switch";var N=_,w=n(7085),k=n(21790),C=n(65632),S=n(97647),Z=n(21687),O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]])}return n},P=r.forwardRef((function(e,t){var n,a=e.prefixCls,s=e.size,o=e.loading,c=e.className,i=void 0===c?"":c,d=e.disabled,l=O(e,["prefixCls","size","loading","className","disabled"]);(0,Z.Z)("checked"in l||!("value"in l),"Switch","`value` is not a valid prop, do you mean `checked`?");var u=r.useContext(C.E_),p=u.getPrefixCls,h=u.direction,v=r.useContext(S.Z),x=p("switch",a),j=r.createElement("div",{className:"".concat(x,"-handle")},o&&r.createElement(w.Z,{className:"".concat(x,"-loading-icon")})),y=g()((n={},(0,f.Z)(n,"".concat(x,"-small"),"small"===(s||v)),(0,f.Z)(n,"".concat(x,"-loading"),o),(0,f.Z)(n,"".concat(x,"-rtl"),"rtl"===h),n),i);return r.createElement(k.Z,{insertExtraNode:!0},r.createElement(N,(0,m.Z)({},l,{prefixCls:x,className:y,disabled:d||o,ref:t,loadingIcon:j})))}));P.__ANT_SWITCH=!0,P.displayName="Switch";var E=P,D=n(6645),A=n(39249),I=n(9941);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(){var e=(0,D.Z)(["auth"]),t=(0,h.Z)(e,1)[0],n=(0,r.useState)(null),s=n[0],o=n[1],c=(0,r.useState)(!0),l=c[0],m=(c[1],(0,r.useState)(!0)),f=(m[0],m[1],(0,r.useState)(!1)),v=f[0],x=(f[1],(0,r.useState)(!0)),j=x[0],g=(x[1],(0,r.useState)([])),y=g[0],b=g[1],_=(0,r.useState)([]),N=_[0],w=_[1],k=(0,r.useState)(""),C=k[0],S=k[1],Z=(0,r.useState)(null),O=Z[0],P=Z[1],T=(0,r.useState)(null),z=T[0],R=T[1],H=(0,r.useState)(!1),G=(H[0],H[1]),K=(0,r.useState)(!1),Y=K[0],L=K[1],M=(0,r.useState)(!1),X=(M[0],M[1]),U=(0,r.useState)(""),V=U[0],W=U[1],q=(0,r.useState)({name:"",phoneNo:"",state:"",city:"",area:"",address:""}),B=q[0],J=q[1];function Q(){return(Q=(0,p.Z)(u().mark((function e(){var n,a,s,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),(a=new FormData).append("customer_id",null===(n=t.auth)||void 0===n?void 0:n.id),e.next=5,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/customer_address"),{method:"POST",body:a});case 5:return s=e.sent,e.next=8,s.json();case 8:200===(null===(r=e.sent)||void 0===r?void 0:r.response_status)?(o(r.data.address_list),G(!1)):A.Am.error(r.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,r.useEffect)((function(){!function(){Q.apply(this,arguments)}()}),[]);var $=function(){var e=(0,p.Z)(u().mark((function e(n,a,s){var r,o,c,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),(o=new FormData).append("address_id",s.address_id),o.append("customer_id",null===(r=t.auth)||void 0===r?void 0:r.id),o.append("customer_name",s.customer_name),o.append("customer_phone",s.customer_phone),o.append("division",s.division),o.append("city",s.city),o.append("area",s.area),o.append("address",s.address),o.append("is_primary","1"),e.next=13,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/update_address"),{method:"POST",body:o});case 13:return c=e.sent,e.next=16,c.json();case 16:200===(null===(i=e.sent)||void 0===i?void 0:i.response_status)?window.location.reload():A.Am.error(i.message);case 18:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ee=function(){var e=(0,p.Z)(u().mark((function e(n){var a,s,r,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),X(!0),s=B.division||(null===O||void 0===O?void 0:O.id),r=B.city||z.id,console.log("divisionID",s),console.log("cityID",r),(o=new FormData).append("address_id",V),o.append("customer_id",null===(a=t.auth)||void 0===a?void 0:a.id),o.append("customer_name",B.recipientName),o.append("customer_phone",B.phoneNo),o.append("division",s),o.append("city",r),o.append("area",B.area),o.append("address",B.address);try{c={method:"POST",body:o},fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/update_address"),c).then((function(e){return e.json()})).then((function(e){0===e.response_status&&A.Am.error(e.message),200===e.response_status&&(A.Am.success("You could successfully added a new address"),X(!1),L(!1),J({name:"",phoneNo:"",state:"",city:"",area:"",address:""}))}))}catch(i){console.log("Create new address error",i)}case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,p.Z)(u().mark((function e(n){var a,s,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("customer_id",null===(a=t.auth)||void 0===a?void 0:a.id),e.next=4,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/statelist"),{method:"POST",body:s});case 4:return r=e.sent,e.next=7,r.json();case 7:200===(null===(o=e.sent)||void 0===o?void 0:o.response_status)&&b(null===o||void 0===o?void 0:o.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t=e.target,n=t.name,a=t.value;J(F(F({},B),{},(0,d.Z)({},n,a)))},ae=function(){var e=(0,p.Z)(u().mark((function e(n){var a,s,r,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("customer_id",null===(a=t.auth)||void 0===a?void 0:a.id),s.append("state_id",C),e.next=5,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/citylist"),{method:"POST",body:s});case 5:return r=e.sent,e.next=8,r.json();case 8:200===(null===(o=e.sent)||void 0===o?void 0:o.response_status)&&(c={id:"00",name:"Select City"},w((function(e){return[c].concat((0,i.Z)(null===o||void 0===o?void 0:o.data))})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsx)("section",{className:"ps-my-account ps-page--account",children:(0,a.jsx)("div",{className:"ps-container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-3",children:(0,a.jsx)("div",{className:"ps-page__left",children:(0,a.jsx)(I.Z,{data:[{text:"Account Information",url:"/account/user-information",icon:"icon-user"},{text:"Invoices",url:"/account/invoices",icon:"icon-papers"},{text:"Track Order",url:"/account/order-tracking",icon:"icon-papers"},{text:"Payment History",url:"/account/payment-history",icon:"icon-cog"},{text:"Address",url:"/account/address",icon:"icon-map-marker",active:!0},{text:"Change Password",url:"/account/change-password",icon:"icon-lock"}]})})}),(0,a.jsx)("div",{className:"col-lg-9",children:(0,a.jsx)("div",{className:"ps-section--account-setting",children:(0,a.jsx)("div",{className:"ps-section__content",children:Y?(0,a.jsxs)("form",{onSubmit:ee,autoComplete:"off",children:[(0,a.jsxs)("div",{className:"form-group d-flex",children:[(0,a.jsx)("input",{type:"text",name:"name",className:"form-control mr-2",placeholder:"Name",value:B.name,onChange:ne}),(0,a.jsx)("input",{type:"text",name:"phoneNo",className:"form-control",placeholder:"Phone No",value:B.phoneNo,onChange:ne})]}),(0,a.jsxs)("div",{className:"area-group form-group d-flex",children:[(0,a.jsxs)("select",{className:"form-control mr-2","aria-label":"Select Division",name:"division",onClick:te,onChange:function(e){S(e.target.value)},children:[0===(null===y||void 0===y?void 0:y.length)&&(0,a.jsx)("option",{value:null===O||void 0===O?void 0:O.id,children:null===O||void 0===O?void 0:O.name}),(null===y||void 0===y?void 0:y.length)>0&&y.map((function(e){return(0,a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),(0,a.jsxs)("select",{className:"form-control mr-2","aria-label":"Select City",name:"city",style:{flex:1},onClick:ae,onChange:ne,children:[0===N.length&&(0,a.jsx)("option",{value:null===z||void 0===z?void 0:z.id,children:null===z||void 0===z?void 0:z.name}),N.length>0&&N.map((function(e){return(0,a.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),(0,a.jsx)("input",{type:"text",name:"area",className:"form-control",placeholder:"Area",value:B.area,onChange:ne})]}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",name:"address",className:"form-control",placeholder:"Enter Your Address",value:B.address,onChange:ne})}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("button",{type:"button",className:"ps-btn ps-btn--sm mr-4",onClick:function(){return L(!1)},children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"ps-btn ps-btn--sm",children:"Update"})]}),(0,a.jsx)("div",{className:"spinner-wrapper"})]}):(0,a.jsx)(a.Fragment,{children:Array.isArray(s)&&s.length>0?(0,a.jsxs)("table",{className:"table table-striped table-hover",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",children:"Full Name"}),(0,a.jsx)("th",{scope:"col",children:"Address"}),(0,a.jsx)("th",{scope:"col",children:"Area"}),(0,a.jsx)("th",{scope:"col",children:"Phone Number"}),(0,a.jsx)("th",{scope:"col",children:"Action"}),(0,a.jsx)("th",{scope:"col",children:"Primary"})]})}),(0,a.jsx)("tbody",{children:s.map((function(e){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"row",children:e.customer_name}),(0,a.jsx)("th",{scope:"row",children:e.address}),(0,a.jsxs)("th",{scope:"row",children:[e.area," ",e.city," ",e.division]}),(0,a.jsx)("th",{scope:"row",children:e.customer_phone}),(0,a.jsx)("th",{scope:"row",className:"d-flex align-items-center justify-content-center",children:(0,a.jsx)("a",{href:"#",className:"mr-3",onClick:function(n){return function(e,n){var a;e.preventDefault(),L(!0);var s=null===(a=t.auth)||void 0===a?void 0:a.id;W(n.address_id),function(){var e=(0,p.Z)(u().mark((function e(){var t,a,r,o,c,i,d,l,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("customer_id",s),e.next=4,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/statelist"),{method:"POST",body:t});case 4:return a=e.sent,e.next=7,a.json();case 7:if(200!==(null===(r=e.sent)||void 0===r?void 0:r.response_status)){e.next=22;break}return o=null===r||void 0===r?void 0:r.data.find((function(e){return e.id===n.division})),P(o),console.log("state",o),(i=new FormData).append("customer_id",s),i.append("state_id",null===(c=o)||void 0===c?void 0:c.id),e.next=17,fetch("".concat("https://soft35.bdtask.com/eneedz_api/api/react/customer_dashboard","/citylist"),{method:"POST",body:i});case 17:return d=e.sent,e.next=20,d.json();case 20:200===(null===(l=e.sent)||void 0===l?void 0:l.response_status)&&(p=null===l||void 0===l?void 0:l.data.find((function(e){return e.id===n.city})),console.log("cityName",p),R(p));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),J({name:n.customer_name,phoneNo:n.customer_phone,city:n.city,state:O,area:n.area,address:n.address})}(n,e)},children:(0,a.jsx)("i",{className:"icon-pencil"})})}),(0,a.jsx)("th",{scope:"row",children:"1"===e.is_primary?(0,a.jsx)(E,{defaultChecked:j,onChange:function(t,n){return $(t,n,e)},disabled:l}):(0,a.jsx)(E,{onChange:function(t,n){return $(t,n,e)},defaultChecked:v,disabled:!j})})]},e.address_id)}))})]}):"Sorry no data found!"})})})})]})})})},R=n(68346),H=!0,G=function(e){var t=e.auth,n=(0,s.useRouter)();return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)(c.Z,{footer:(0,a.jsx)(R.Z,{}),title:"Address",children:(0,a.jsxs)("div",{className:"ps-page--my-account",children:[(0,a.jsx)(o.Z,{breacrumb:[{text:"Home",url:"/"},{text:"Addresses"}]}),(0,a.jsx)(z,{})]})}):void n.push("/account/login")})}},21425:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/address",function(){return n(98754)}])}},function(e){e.O(0,[8116,4740,9774,2888,179],(function(){return t=21425,e(e.s=t);var t}));var t=e.O();_N_E=t}]);